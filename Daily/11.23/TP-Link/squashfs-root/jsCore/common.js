function loadHtmlFile(a,b,c,d){d=d?"?version="+d:"";var e=new Request.HTML({url:a+d,onSuccess:function(a,c,d){b(d)},onFailure:function(){c()}});e.get()}function limit(a,b){var c=a.value;""!==c&&(a.value=/[^\d]/g.test(c)?c.replace(/[^\d]/g,"")-0:a.value-0,c=a.value,c>b&&(a.value=b))}function limitEx(a,b){var c=a.value;/[^\d]/g.test(c)?(c=c.replace(/[^\d]/g,"")-0,a.value=c):c=a.value-0,c>b&&(a.value=b)}function limitMin(a,b){var c=a.value;/[^\d]/g.test(c)&&(a.value=c.replace(/[^\d]/g,"")-0),c=a.value,""===c?a.value=b:b>c&&(a.value=b)}function limitTime(a,b){var c=a.value;if(c=c.replace(/[^\d]/g,""),c-0>b&&(a.value=b),c=a.value,c.length>=2&&""!==a.id){var d=$(a.id).getNext("input");d&&d.select()}}function parsrTimeEx(a){var b;if(a){var c=a.trim().split(" "),d=c[1].split("-");a=d[0].split(":");var e=d[1].split(":");b=[c[0]-0,a[0]-0,a[1]-0,a[2]-0,e[0]-0,e[1]-0,e[2]-0]}else b=[0,0,0,0,24,0,0];return b}function chkTime(a,b,c,d){d=d||event;var e,f,g=c.toString().length,h=$(a+b);h.value=h.value.replace(/[^\d]/g,"");var i=d.keyCode;if(37==i||39==i||9==i)return h.blur(),37==i&&(e=b-1),39==i&&(e=b+1),9==i?void($(a+(b-1))?(f=$(a+(b-1)).value-0,10>f&&($(a+(b-1)).value="0"+f),$(a+b).select()):$(a+b).select()):e>2||0>e?void 0:(f=h.value-0,10>f&&(h.value="0"+f),void $(a+e).select());if(h.value.length>=g)if(parseInt(h.value)>c){if(h.value=c,e=b+1,e>2||0>e)return;$(a+e).select()}else if(parseInt(h.value)<0)h.value="00";else{if(h.blur(),e=b+1,e>2||0>e)return;f=h.value-0,10>f&&(h.value="0"+f),$(a+e).select()}}function attachLimit(a,b,c){var d="element"==typeOf(a)?a:$(a);d.removeEvents("keyup"),d.removeEvents("blur"),d.removeEvents("beforepaste"),d.addEvents({keyup:function(){limitEx(this,c)},blur:function(){limit(this,c),limitMin(this,b)},beforepaste:function(){clipboardData.setData("text",clipboardData.getData("text").replace(/[^\d]/g,""))}}),limit(d,c),limitMin(d,b)}function attachTimeEvent(a,b){void 0==b&&(b=!0);var c=new Array;c="array"!=$type(a)?[$(a+"0"),$(a+"1"),$(a+"2"),$(a+"3"),$(a+"4"),$(a+"5")]:[$(a[0]),$(a[1]),$(a[2]),$(a[3]),$(a[4]),$(a[5])];var d=function(a,d){c[a]&&(c[a].removeEvents("keyup"),c[a].removeEvents("blur"),c[a].addEvents({keyup:function(b){if(/[^\d]/g.test(this.value)&&(this.value=this.value.replace(/[^\d]/g,"")),"right"==b.key)return void(5>a&&c[a+1].select());if(37==b.code)return void(a>0&&6>a&&c[a-1].select());if("tab"!=b.key){this.value-0>d&&(this.value=d);var e=a>2?3:0;"24"==c[e].value&&(c[e+1].value="00",c[e+2].value="00"),this.value.length>=2&&5>a&&c[a+1].select()}},blur:function(){/[^\d]/g.test(this.value)&&(this.value=this.value.replace(/[^\d]/g,"")),this.value-0>d&&(this.value=d),this.value=this.value-0>=10?this.value-0:"0"+(this.value-0);var a=60*(60*(c[0].value-0)+(c[1].value-0))+(c[2].value-0),e=60*(60*(c[3].value-0)+(c[4].value-0))+(c[5].value-0);b&&a>e&&(c[3].value=c[0].value,c[4].value=c[1].value,c[5].value=c[2].value)},focus:function(){this.select()}}))};d(0,23),d(1,59),d(2,59),d(3,23),d(4,59),d(5,59)}function promptImportLimt(a,b,c,d){var e="element"==$type(a)?a:$(a),f="element"==$type(b)?b:$(b);if(e){var g=e.value,h=expressionCheck(d,g);return f.setProperty("text",""),h?void f.setProperty("text",""):(f.setProperty("text",tl(c)),!1)}}function checkedImportLimt(a,b){var c="element"==$type(a)?a:$(a),d=c.value;return expressionCheck(b,d)}function expressionCheck(a,b){var c=!0;switch(a){case 0:/^[\w-]+$/.test(b)||(c=!1);break;case 1:/^[\w-.]+$/.test(b)||(c=!1);break;case 2:/^[\w-#*]+$/.test(b)||(c=!1);break;case 3:(/[\"]+/.test(b)||/[\']+/.test(b))&&(c=!1);break;case 4:/[\"*<>?|\/]+/.test(b)&&(c=!1);break;case 5:(/[\"]+/.test(b)||/[\']+/.test(b)||/[\u4E00-\u9FA5]+/.test(b))&&(c=!1);break;case 6:(/[\"]+/.test(b)||/[\']+/.test(b)||/[\u4E00-\u9FA5]+/.test(b)||/\s/.test(b))&&(c=!1);break;case 7:/^[\w-.]+@[\w-]+(\.{1}[\w-]+)+$/.test(b)||(c=!1);break;case 8:/^[\w]+$/.test(b)||(c=!1);break;case 9:/^[a-z0-9A-Z]*$/.test(b)||(c=!1);break;case 10:""!=b&&(/^[\w-\/]+$/.test(b)||(c=!1));break;case 11:""!=b&&(/^[\w-.]+$/.test(b)||(c=!1));break;case 12:""!=b&&(/^[\w]+$/.test(b)||(c=!1));break;case 13:(/[\"]+/.test(b)||/[\']+/.test(b)||/[\u4E00-\u9FA5]+/.test(b)||/[\#]+/.test(b)||/[\\]+/.test(b))&&(c=!1);break;case 14:/^[\w-\'\s]+$/.test(b)||(c=!1);break;case 15:/^[0-9]*$/.test(b)||(c=!1)}return c}function openHelp(a){var b=1;-1!==webApp.DeviceType.indexOf("SD")&&(b=2);var c="";if(global.isDDNS()){var d=global.getDDNSMessage(),e=d.resourcepath.split("_");c="http://"+d.ddnshost+"/web";for(var f=0;f<e.length;f++)c+="/"+e[f]}var g="SimpChinese"==global.currentLanguage?c+"/help/SimpChinese/"+a+"?device="+b:c+"/help/English/"+a+"?device="+b;window.open(g,"help"+rpc.getSession(),"width=601,height=500,menubar=no,status=no,toolbar=no,location=no,scrollbars=yes,resizable=no"),plugin.OpenHelp(location.protocol+"//"+location.host+g,1)}!function(a){a.ajax({url:"/jsBase/lib/m.js",dataType:"script",async:!1}),a.ajax({url:"/jsBase/lib/more.js",dataType:"script",async:!1})}(jQuery);var Site={currentPage:{}},Page={},Dialog=new Class({initialize:function(a,b,c,d,e,f){this.sid=a,this.obj=$(a),this.Width=$(a).offsetWidth,this.Height=$(a).offsetHeight,this.okButton=$(void 0===c?"d_confirm":c),this.closeButtion=$(void 0===d?"d_close":d),this.isIE=-1!=navigator.userAgent.toLowerCase().indexOf("msie"),this.isIE6=-1!=navigator.userAgent.toLowerCase().indexOf("msie 6.0");var g=document.documentElement.clientWidth,h=document.documentElement.clientHeight;this.Left=((g-this.Width)/2+50>0?(g-this.Width)/2+50:150).round(),this.Top=((h-this.Height)/2-40>0?(h-this.Height)/2-40:100).round();var j=function(){var a=document.getElementsByTagName("SELECT");for(i=0;a&&i<a.length;i++)a[i].style.visibility="hidden";var b=this.obj.getElementsByTagName("SELECT");for(i=0;b&&i<b.length;i++)b[i].style.visibility="visible"};this.hideSelectBoxes=j;var k=function(){var a=document.getElementsByTagName("SELECT");for(i=0;a&&i<a.length;i++)a[i].style.visibility="visible"};this.displaySelectBoxes=k;var l=$(a).getElement(".ui-dialog-icon");l&&(f?l.addEvent("click",f):l.addEvent("click",function(){this.isIE6&&k(),$(a).style.top="-10000px",jQuery.unmask("body")}));var m=$(a).getElement(".ui-dialog-title h1");m&&m.setProperty("text",e||""),this.okButton&&b&&this.okButton.addEvent("click",b),this.closeButtion&&(f?this.closeButtion.addEvent("click",f):this.closeButtion.addEvent("click",function(){this.isIE6&&k(),$(a).style.top="-10000px",jQuery.unmask("body")})),jQuery("#"+a).detach().prependTo(document.body)},setPosition:function(a,b){this.Left=a,this.Top=b,this.isIE6&&(this.Left=a-20,this.Top=b-130)},setTitle:function(a){var b=$(this.sid).getElement(".ui-dialog-title h1");b&&b.setProperty("text",a)},show:function(){jQuery.mask("body"),this.isIE6&&this.hideSelectBoxes(),this.obj.style.top=this.Top+"px",this.Left&&(this.obj.style.left=this.Left+"px")},close:function(){this.closeButtion?this.closeButtion.fireEvent("click"):(this.isIE6&&displaySelectBoxes(),this.obj.style.top="-10000px",jQuery.unmask("body"))}});Element.implement({translation:function(a){var b=this.getElements("[t]"),c=function(b){return"function"==$type(a)?a(b):$type(a)===!1?"function"==typeof tl?tl(b):b:a[b]};return b.push(this),b.each(function(a){var b,d=a.getProperty("t");d&&(b=d.split(";"),b.each(function(b){var d=b.split("::");1===d.length&&(d[1]=d[0],d[0]="text");var e=d[1].split("+"),f="";e.each(function(a){f+=c(a)}),a.setProperty(d[0],f)}))}),this}});var SliderEx=new Class({Extends:Slider,initialize:function(a,b,c){this.parent(a,b,c);var d,e={};switch(this.options.mode){case"vertical":d="height";break;case"horizontal":d="width"}this.half=this.half||this.knob.getStyle(d).toInt()/2,this.full=this.full||this.element.getStyle(d).toInt()-this.knob.getStyle(d).toInt()+2*this.options.offset,this.steps=this.options.steps||this.full,this.stepSize=Math.abs(this.range)/this.steps,this.stepWidth=this.stepSize*this.full/Math.abs(this.range),e[this.axis]=[-this.options.offset,this.full-this.options.offset],this.drag.options.limit=e,this.options.snap&&(this.drag.options.grid=Math.ceil(this.stepWidth),this.drag.options.limit[this.axis][1]=this.full)}}),FineSlider=new Class({sliderStep:1,initialize:function(a,b,c,d,e,f){this.element=$(a);var g=a.split("_");g.pop()&&g.push("label")&&(g=g.join("_"));var h=$(d)||$(g),i=a.split("_");i.pop()&&i.push("add")&&(i=i.join("_"));var j=a.split("_");j.pop()&&j.push("reduce")&&(j=j.join("_")),this.addElement=$(e)||$(i),this.reduceElement=$(f)||$(j),c.steps&&"array"==$type(c.range)&&(this.sliderStep=Math.ceil((c.range[1]-c.range[0])/c.steps)),c.steps||"array"!=$type(c.range)||(c.steps=c.range[1]-c.range[0]),c.wheel||(c.wheel=!0),c.onChange||(c.onChange=function(a){this.element.setProperty("title",a),h.setProperty("text",a)}),this.slider=new SliderEx(a,b,c),this.steps=-1,this.addElement&&this.addElement.addEvent("click",this.add.bind(this)),this.reduceElement&&this.reduceElement.addEvent("click",this.reduce.bind(this))},add:function(){this.steps=this.element.getProperty("title")-0,this.steps>=this.slider.min&&this.steps<this.slider.max&&(this.steps+=this.sliderStep,this.slider.set(this.steps))},reduce:function(){this.steps=this.element.getProperty("title")-0,this.steps>this.slider.min&&this.steps<=this.slider.max&&(this.steps-=this.sliderStep,this.slider.set(this.steps))},set:function(a){return a=a.limit(this.slider.min,this.slider.max),this.step=Math.round(a),this.slider.previousChange=this.step,this.slider.previousEnd=this.step,this.slider.step!==this.step&&(this.slider.step=this.step,this.slider.fireEvent("tick",this.slider.toPosition(this.step))),this.slider.fireEvent("change",this.step),this}}),remarkDisplay=function(){var a=[];return function(b,c,d,e){var f;"string"===$type(b)?f=$(b):(f=b,b=f.id),a[b]&&$clear(a[b]);var g;switch(e){case 0:g="success";break;case 1:g="error";break;case 2:g="warning"}f.removeClass("ui-tip-success").removeClass("ui-tip-warning").removeClass("ui-tip-error").addClass("ui-tip-"+g).setStyle("display","block").fade("in"),$(b+"_label").setProperty("text",c),d&&(a[b]=function(){f&&f.fade("out")}.delay(d))}}(),StringUtil={btSub:function(a,b,c,d){if(null===a||""===a)return"";var e=a.match(/(.{1})/g),f=[],g="",h=0;d&&(g=d);for(var i=0;b>i&&!(e[h].replace(/[^\x00-\xff]/g,c).length>b-i);i++)f.push(e[h]),/^[\u0000-\u00ff]$/.test(e[h])||("aa"==c?i++:i+=2),h++;return f.join("")+g},byteLength:function(a,b){return a.replace(/[^\x00-\xff]/g,b).length},substring:function(a,b,c){return c=2==c?"aa":"aaa",StringUtil.byteLength(a,c)>b?StringUtil.btSub(a,b,c):a},lengthForAscii:function(a){var b,c,a=String(a),d=0,e=a.length;for(b=e;b--;)c=a.charCodeAt(b),d+=127>=c?1:65535>=c?3:4;return d}};