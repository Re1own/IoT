!function(a){define(function(require){function b(b,c){webApp.DisplayMode="Original Rate";var d=this;d.options=a.extend({},h,c),d.e=b.empty().append(f).translation(),d.init()}function c(b){var c=this;c.$('[class ^= "playMode_"]').removeClass("current"),e.SetFeShowMode(0);var d=a(b.target);d.siblings().removeClass("current"),d.addClass("current");var f=d.attr("data-for")-0;e.SetTrackMode(f?0:1),e.SetShowMultiScreenMode(webApp.isSupportPanoramaDrag&&!f?6:f),"Original Rate"===webApp.DisplayMode&&e.SetShowMode(0===f?1:2)}function d(b){var c=this;c.$('[class ^= "trackMode_"]').removeClass("current"),e.SetShowMultiScreenMode(0);var d=a(b.target);d.siblings().removeClass("current"),d.addClass("current");var f=d.attr("data-for")-0;e.SetFeShowMode(f)}var e=require("../plugin"),f=require("./triggerVRTrack.html"),g=(require("../rpc"),require("../ability")),h=null,i={"2M":["0","1","2"],"3M":["0","4","5"],"4M":["0","1","2"],"4K":["0","1","2"]};a.fn.triggerVRTrack=function(){var c=arguments[0],d=2<=arguments.length?Array.prototype.slice.call(arguments,1):[],e=this;return this.each(function(){var f=a(this),g=f.data("triggerVRTrack");if(g||f.data("triggerVRTrack",g=new b(f,c)),"string"===a.type(c)&&a.isFunction(g[c])){var h=g[c].apply(g,d);if(void 0!==h)return e=h,!1}}),e},b.prototype.init=function(){var b=this;b.$("#triggerVR_playMode").delegate("li","click",function(a){d.call(b,a)}),b.$(".triggerVRTrack_list").delegate("li","click",function(a){c.call(b,a)});var e="4K";g.get("VideoInputCaps").always(function(c){c&&c.SubChannel&&(e=c.SubChannel+"M"),b.$(".triggerVRTrack_list li").each(function(){var b=a(this).attr("data-for");a.inArray(b,i[e])<0&&a(this).css("display","none")})})},b.prototype.render=function(){this.$(".triggerVRTrack_list li:first").trigger("click")},b.prototype.leave=function(){this.$(".triggerVRTrack_list li:first").trigger("click"),webApp.isSupportPanoramaDrag&&e.SetShowMultiScreenMode(0)},b.prototype.$=function(a){return this.e.find(a)}})}(jQuery);