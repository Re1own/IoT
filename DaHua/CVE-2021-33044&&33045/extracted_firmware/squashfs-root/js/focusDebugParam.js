!function(a){define(function(require,a,b){b.exports=require("jsCore/pageTab")}),define("focusDebugParam",function(require,b,c){var d=require("jsCore/rpc"),e=require("jsCore/pageBase");focusDegugParams=null,me=null,channel=0,lensCaps=null,pmSampling=null,focusParams=null;var f=!1,g=null;c.exports=e.extend({init:function(){me=this,d.LensFunc.getDebugCaps().done(function(b){lensCaps=b.caps,lensCaps.FocusDebugParam&&lensCaps.FocusDebugParam.Support?(f=!0,me.$('[cfg="FocusDebugParam"][key="LockFpSamePT"]').parent().parent().removeClass("fn-hide"),a.each(me.$("[cfg=FocusDebugParam]"),function(a,b){var c=me.$(b),d=c.attr("key"),e=lensCaps.FocusDebugParam[d+"Min"]||0,f=lensCaps.FocusDebugParam[d+"Max"]||100;c.numberfield({min:e,max:f}),c.next("span").text("("+e+"~"+f+")")}),me.disabled("[btn-for=onConfirm]",!1),me.disabled("[btn-for=onDefault]",!1)):(me.disabled("[btn-for=onConfirm]",!0),me.disabled("[btn-for=onDefault]",!0)),lensCaps.LensPMSampling&&lensCaps.LensPMSampling.Support&&me.$("#focus_pmSamping").removeClass("fn-hide"),lensCaps.LensInit&&lensCaps.LensInit.Support&&me.$("[btn-for=onLenInit]").parent().removeClass("fn-hide"),lensCaps.SwitchDefogFilter&&lensCaps.SwitchDefogFilter.Support&&me.$("#SwitchDefogFilter").removeClass("fn-hide"),lensCaps.TwoPowerLens&&lensCaps.TwoPowerLens.Support&&me.$("#TwoPowerLens").removeClass("fn-hide"),me.render()})},onPositive:function(){g=0,d.LensFunc.switchDefogFilter(g).done(function(){me.tip("success","com.SaveSuccessTip")}).fail(function(){me.tip("error","com.SaveConfigFailTip")})},onReverse:function(){g=1,d.LensFunc.switchDefogFilter(g).done(function(){me.tip("success","com.SaveSuccessTip")}).fail(function(){me.tip("error","com.SaveConfigFailTip")})},render:function(){me._getConfig()},onOpenTwo:function(){twoPowerLens=!0,d.LensFunc.twoPowerLens(twoPowerLens).done(function(){me.tip("success","com.SaveSuccessTip")}).fail(function(){me.tip("error","com.SaveConfigFailTip")})},onCloseTwo:function(){twoPowerLens=!1,d.LensFunc.twoPowerLens(twoPowerLens).done(function(){me.tip("success","com.SaveSuccessTip")}).fail(function(){me.tip("error","com.SaveConfigFailTip")})},onRefresh:function(){me._getConfig(!0)},_getConfig:function(b){d.LensFunc.getLensPMSamplingValue().done(function(b){pmSampling=b.params,a.each(me.$("[cfg=PMSamplingValue]"),function(a,b){var c=me.$(b),d=c.attr("key");c.text(pmSampling.value[d])})}),f&&d.ConfigManager.getConfig("FocusDebugParam").done(function(c){focusParams=c,focusParams&&a.each(me.$("[cfg=FocusDebugParam]"),function(a,b){var c=me.$(b),d=c.attr("key");c.numberfield("value",focusParams[channel][d])}),b&&me.$("#attr_tip").tip("success",tl("com.OperateSuccessTip"))}).fail(function(){me.$("#attr_tip").tip("error",tl("com.OperateFailTip"))})},onLenInit:function(){d.PTZ.lensInit().done(function(a){a?me.$("#attr_tip").tip("success",tl("com.OperateSuccessTip")):me.$("#attr_tip").tip("error",tl("com.OperateFailTip"))}).fail(function(){me.$("#attr_tip").tip("error",tl("com.OperateFailTip"))})},onConfirm:function(){a.each(me.$("[cfg=FocusDebugParam]"),function(a,b){var c=me.$(b),d=c.attr("key");focusParams[channel][d]=c.numberfield("value")});var b=["DelaySave","WithoutLog"];d.ConfigManager.setConfig("FocusDebugParam",focusParams,void 0,b).done(function(){me.$("#attr_tip").tip("success",tl("com.SaveSuccessTip"))}).fail(function(){me.$("#attr_tip").tip("error",tl("com.SaveConfigFailTip"))})},onDefault:function(){d.ConfigManager.getDefault("FocusDebugParam").done(function(b){focusParams=b,a.each(me.$("[cfg=FocusDebugParam]"),function(a,b){var c=me.$(b),d=c.attr("key");c.numberfield("value",focusParams[channel][d])}),me.$("#attr_tip").tip("success",tl("com.DefaultSuccessTip"))}).fail(function(){me.$("#attr_tip").tip("error",tl("com.DefaultfailureTip"))})}})})}(jQuery);