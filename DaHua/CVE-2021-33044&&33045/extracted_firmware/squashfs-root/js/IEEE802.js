!function(a){define(function(require,a,b){b.exports=require("jsCore/pageTab")}),define("ieee",function(require,b,c){function d(a){return/[\"]+/.test(a)||/[\']+/.test(a)||/[\u4E00-\u9FA5]+/.test(a)||/\s/.test(a)?!1:!0}var e=require("jsCore/rpc"),f=require("jsCore/pageBase"),g=null,h={},i=null,j=require("common/common"),k=j.Check;c.exports=f.extend({init:function(){g=this,g.render(),i=a.validator([{element:g.element.find("[cfg=Identity]"),check:[k.require,k.alphaNumUnderline,k.alphaNumUnderline],errorMsg:["com.Necessary","com.IncludeTpye6Tip","com.IncludeTpye6Tip"],events:["blur","keyup","blur"]},{element:g.element.find("[cfg=Password]"),check:[d,d],errorMsg:["com.NoInputChMarksSpaceTip","com.NoInputChMarksSpaceTip"],events:["keyup","blur"]}],function(a){a.parent().translation()})},render:function(){e.ConfigManager.getConfig("Wire802_1X").done(function(a){h=a,g._renderElements()})},_renderElements:function(){g.$("#ieee_enable").prop("checked",h.eth0.Enable),g.$("#ieee_Protocol").empty().append('<option value="'+h.eth0.Method+'">'+h.eth0.Method+"</option>"),g.$("#ieee_Protocol").val(h.eth0.Method),g.$("#ieee_AuthProtocol").empty().append('<option value="'+h.eth0.AuthType+'">'+h.eth0.AuthType+"</option>"),a.each(g.$("[cfg]"),function(a,b){var c=g.$(b).attr("cfg");g.$(b).val(h.eth0[c])}),i.validate()},onDefault:function(){e.ConfigManager.getDefault("Wire802_1X").done(function(a){h=a,g._renderElements(),g.tip("success","com.DefaultSuccessTip")}).fail(function(){g.tip("error","com.DefaultfailureTip")})},onRefresh:function(){e.ConfigManager.getConfig("Wire802_1X").done(function(a){h=a,g._renderElements(),g.tip("success","com.OperateSuccessTip")}).fail(function(){g.tip("error","com.OperateFailTip")})},onConfirm:function(){return i.isInvalid()?g.tip("warning",i.errors()[0].errorMsg):(h.eth0.Enable=g.$("#ieee_enable").is(":checked"),h.eth0.Method=g.$("#ieee_Protocol").val(),h.eth0.AuthType=g.$("#ieee_AuthProtocol").val(),a.each(g.$("[cfg]"),function(a,b){var c=g.$(b).attr("cfg");h.eth0[c]=g.$(b).val()}),void e.ConfigManager.setConfig("Wire802_1X",h).done(function(a){g.tip("success","com.SaveSuccessTip"),webApp.isNeedReboot(a)&&webApp.reboot("com.ConfEffectRestartTip")}).fail(function(){g.tip("error","com.SaveConfigFailTip")}))},onUserCert:function(){g._changePath(g.$("[cfg=UserCert]"),this)},onCaCert:function(){g._changePath(g.$("[cfg=CaCert]"),this)},_changePath:function(a,b){var c=b.value;if(!jQuery.browser.ie){var d=c.lastIndexOf("\\");d>=0&&(c=c.slice(d+1))}a.attr("value",c)}})})}(jQuery);